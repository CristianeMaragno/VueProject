apiVersion: v1 #application pod
kind: Pod
metadata:
  name: app-pod
  labels:
    name: app-pod
    app: vue-project
spec:
  containers:
  - name: app
    image: gcr.io/academic-notch-342921/vue-project
    ports:
      - containerPort: 8080

---
apiVersion: v1 #internal service
kind: Service
metadata:
  name: app-service
  labels:
    name: app-service
    app: vue-project
spec:
  selector:
    name: app-pod
    app: vue-project
  ports:
    - protocol: TCP
      port: 5000
      targetPort: 8080

---
apiVersion: v1 #app inter ingress
kind: Ingress
metadata:
  name: app-ingress
  labels:
    name: app-ingress
    app: vue-project
spec:
  rules: 
  - host: myapp.com #change to the url of the server
    http:
      paths: 
      - backend: 
        serviceName: app-service
        servicePort: 5000
